# A7: Web Resources Documentation

The architecture of the web application to develop is documented indicating the catalogue of resources and the properties of each resource, including: references to the graphical interfaces, and the format of JSON responses. This page includes the following operations over data: create, read, update, and delete.

## 1. Overview

<table>
    <tr>
        <td>M01: Authentication and Profile</td>
        <td>Web resources associated with the user authentication. It also includes web resources associated with user information such as basic information and addresses.</td>
    </tr>
    <tr>
        <td>M02: Products and Categories</td>
        <td>Web resource associated with the search, filtering and listing of the products available to the user.</td>
    </tr>
    <tr>
        <td>M03: Management Area</td>
        <td>Web resources associated with website management, specifically: view and edit purchases, view, edit, add and delete properties, view, edit, add and delete categories and view, add and delete faqs.</td>
    </tr>
    <tr>
        <td>M04: Product and Reviews</td>
        <td>Web resources associated with the product and its reviews. It also includes web resources associated the adding and editing a product.</td>
    </tr>
    <tr>
        <td>M05: Static Pages</td>
        <td>Web resources associated with static content/pages, such as: about, contact and faq.</td>
    </tr>
    <tr>
        <td>M06: Cart and Wishlist</td>
        <td>Web resources associated with the cart and wishlist.</td>
    </tr>
</table>

## 2. Permissions

<table>
    <tr>
        <td>PUB</td>
        <td>Public</td>
        <td>Group of users without privileges.</td>
    </tr>
    <tr>
        <td>USR</td>
        <td>User</td>
        <td>Authenticated user.</td>
    </tr>
    <tr>
        <td>OWN</td>
        <td>Owner</td>
        <td>Group of users that can update their profiles and have privileges regarding their purchases and reviews.</td>
    </tr>
    <tr>
        <td>ADM</td>
        <td>Administrator</td>
        <td>Group of administrators.</td>
    </tr>
</table>

## 3. Overview

### **Module M01: Authentication and Profile**

#### Endpoints

These are the endpoints available in the Authentication and Profile Module.

* R101 - Sign In Form _/signin_
* R102 - Sign In Action _/signin_
* R103 - Logout Action _/logout_
* R104 - Register Form _/register_
* R105 - Register Action _/register_
* R106 - View Profile _/profile/{id}_
* R107 - Edit Profile Action _/profile/edit_
* R108 - Cancel Account Action _/profile/cancel_
* R109 - Add Address Action _/profile/address_
* R110 - Delete Address Action _/profile/address_


#### R101 - Sign In Form
<table>
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/signin</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">Page with a form to sign in to a user account.</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"><a href="https://literallysofia.github.io/lbaw1761/pages/signin.html">UI11 (Sign in page)</a></td>
    </tr>
    <tr>
        <td colspan="2">Submit</td>
        <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r102---sign-in-action">R102</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="2">PUB</td>
    </tr>
</table>


#### R102 - Sign In Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/signin</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource logs the user into the system. Redirects to the homepage on success and the login form on failure.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+email: string</td>
      <td colspan="2">Email</td>
  </tr>
  <tr>
      <td colspan="2">+password: string</td>
      <td colspan="2">Password</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Redirects</td>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/homepage.html">UI01 (Homepage)</a></td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/signin.html">UI11 (Sign in page)</a></td>
      <td colspan="2">Error</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

#### R103 - Logout Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/logout</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource logs out the authenticated user or admin.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Redirects</td>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/homepage.html">UI01 (Homepage)</a></td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/profile.html">UI04 (User profile page)</a></td>
      <td colspan="2">Error</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR, ADM</td>
  </tr>
</table>


#### R104 - Register Form

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/register</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Page with a form to register a new user account.</td>
  </tr>
  <tr>
    <td colspan="2">Method</td>
    <td colspan="4">GET</td>
  </tr>
  <tr>
    <td colspan="2">UI</td>
    <td colspan="4"><a href="https://literallysofia.github.io/lbaw1761/pages/register.html">UI10 (Register page)</a></td>
  </tr>
  <tr>
    <td colspan="2">Submit</td>
    <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r105---register-action">R105</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>


#### R105 - Register Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/register</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource inserts a new user into the system. Redirects to the homepage on success and the register form on failure.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="5">Request Body</td>
      <td colspan="2">+name: string</td>
      <td colspan="2">Name</td>
  </tr>
  <tr>
      <td colspan="2">+username: string</td>
      <td colspan="2">Username</td>
  </tr>
  <tr>
      <td colspan="2">+email: string</td>
      <td colspan="2">Email</td>
  </tr>
  <tr>
      <td colspan="2">+password: string</td>
      <td colspan="2">Password</td>
  </tr>
  <tr>
      <td colspan="2">+repeat_password: string</td>
      <td colspan="2">Repeat Password</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Redirects</td>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/homepage.html">UI01 (Homepage)</a></td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
    <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/register.html">UI10 (Register page)</a></td>
      <td colspan="2">Error</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

#### R106 - View Profile

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="6">/profile/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="6">Shows the user individual profile page.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="6">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="3">+id: integer</td>
      <td colspan="3">user primary key</td>
  </tr>
  <tr>
    <td colspan="2">UI</td>
    <td colspan="6"><a href="https://literallysofia.github.io/lbaw1761/pages/profile.html">UI04 (User profile page)</a></td>
  </tr>
    <tr>
        <td colspan="2">Ajax Call</td>
        <td colspan="2"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r107---edit-profile-action">R107</a></td>
        <td colspan="2"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r109---add-address-action">R109</a></td>
        <td colspan="2"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r110---delete-address-action">R110</a></td>
    </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="6">USR</td>
  </tr>
    <tr>
        <td colspan="2">Observations</td>
        <td colspan="6">Whenever the user clicks on the "cancel account" button, the action <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r108---cancel-account-action">R108</a> is called. Whenever the user clicks on a purchased product, the product page is open as in <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r401-product-page">R401</a></td>
    </tr>
</table>




#### R107 - Edit Profile Action
<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/profile/edit</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Web resource that changes user profile info based on the input received. Shows a message in both cases error or success. To set a new password, password field should be filled</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="7">Request Body</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">user primary key</td>
  <tr>
      <td colspan="2">+name: string</td>
      <td colspan="2">Name</td>
  </tr>
  <tr>
      <td colspan="2">+username: string</td>
      <td colspan="2">Username</td>
  </tr>
  <tr>
      <td colspan="2">+email: string</td>
      <td colspan="2">Email</td>
  </tr>
  <tr>
      <td colspan="2">?password: string</td>
      <td colspan="2">Password</td>
  </tr>
  <tr>
      <td colspan="2">?new_password: string</td>
      <td colspan="2">New Password</td>
  </tr>
  <tr>
      <td colspan="2">?new_password_confirmation: string</td>
      <td colspan="2">New Password Confirmation</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The profile was successfully updated.</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. There's not a user with the specified primary key</td>
  </tr>  
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R108 - Cancel Account Action

<table>
  <tr>
    <td colspan="2">URL</td>
      <td colspan="4">/profile/cancel</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource removes basic user information that will no longer be necessary. Redirects to the Homepage on success and to the user profile page on failure.
    </td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">user primary key</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Redirects</td>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/homepage.html">UI01 (Homepage)</a></td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/profile.html">UI04 (User profile page)</a></td>
      <td colspan="2">Error</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>



#### R109 - Add Address Action

<table>
  <tr>
    <td colspan="2">URL</td>
      <td colspan="4">/profille/address</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Web resource that adds an user's address based on the input received. Redirects to the user profile either on success or on failure, showing a message in both cases.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="5">Request Body</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">user primary key</td>
      
  </tr>
    <tr>
        <td colspan="2">+name: string</td>
      <td colspan="2">Name</td>
    </tr>
  <tr>
      <td colspan="2">+street_address: string</td>
      <td colspan="2">Street Address</td>
  </tr>
  <tr>
      <td colspan="2">+zip_code: string</td>
      <td colspan="2">ZIP Code</td>
  </tr>
  <tr>
      <td colspan="2">+city_id: integer</td>
      <td colspan="2">city primary key</td>
  </tr>
  <tr>
      <td colspan="2">Responde Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json101-get-address--id-name-street_address-zip_code-city_name">JSON101</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R110 - Delete Address Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/profille/address</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Web resource that archives an user's address. Redirects to the user profile either on success or on failure, showing a message in both cases.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
   <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">address primary key</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The address was successfully updated as archived.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. There's not an address with the specified primary key</td>
  </tr>  
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>




### **Module M02: Products and Categories**

#### Endpoints

These are the endpoints available in the Products and Categories Module.

* R201 - Homepage products _/homepage_
* R202 - Products from a category _/products_
* R203 - Search action 
* R204 - Filter products _/products_


#### R201: Homepage products

| URL         | /                               |
|-------------|-----------------------------------------|
| Description | Get products to display on the homepage |
| Method      | GET                                     |
| UI          | [UI01](https://literallysofia.github.io/lbaw1761/pages/homepage.html)                                      |
|AJAX Calls   | [R402](https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r402-add-to-cart-action)                                         |
| Permissions | PUB                                     |
| Observations | Whenever the user clicks on the product, the product page is open as in [R401](https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r401-product-page)|

#### R202: Products from a category

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/{category_name}/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Lists all products of the specified category.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
   <tr>
      <td colspan="2" rowspan="2">Parameters</td>
      <td colspan="2">+category_name:string</td>
      <td colspan="2">Category name</td>
  </tr>
   <tr>
      <td colspan="2">+page:integer</td>
      <td colspan="2">Page number</td>
   </td>
  <tr>
      <td colspan="2">UI</td>
      <td colspan="4"><a href="https://literallysofia.github.io/lbaw1761/pages/products.html">UI02</a>
  </tr>
  <tr>
      <td colspan="2">AJAX Calls</td>
      <td colspan="2"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r204-filter-products">R204</a>
      <td colspan="2"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r402-add-to-cart-action">R402</a>
          
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
  <tr>
    <td colspan="2">Observations</td>
    <td colspan="4"> Whenever the user clicks on the product, the product page is open as in <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r401-product-page">R401</a> </td>
   </tr>
</table>

#### R203: Search action



<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4"></td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Searches products similar to the name given - can be accessed anywhere on the website.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
   <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">?product_name:string</td>
      <td colspan="2">Product name</td>
  </tr>
  <tr>
    <td colspan="2" rowspan="2">Redirects</td>
    <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/products.html">UI02</a>
    <td colspan="2">Success</td> 
  </tr>
  <tr>
    <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/products.html">UI02</a>
    <td colspan="2">Error</td> 
  </td>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

#### R204: Filter products


<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/{category_name}/{property_value}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Lists all products of the specified category.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
   <tr>
      <td colspan="2" rowspan ="4">Parameters</td>
      <td colspan="2">+category_name:string</td>
      <td colspan="2">Category name</td>
  </tr>
  <tr>
    <td colspan="2">?price:double</td>
    <td colspan="2">Maximum price range </td>
  </tr>
  <tr>
    <td colspan="2">?brand:string[]</td>
    <td colspan="2">Product brand </td>
  </tr>
  <tr>
    <td colspan="2">?property_values:string[]</td>
    <td colspan="2">Specific characteristic of the products (like storage size)</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json201-get-filtered-products--products">JSON201</a>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

### **Module M03: Management Area**

#### Endpoints

These are the endpoints available in the Management Area Module.

* R301 - Admin’s page _/admin_
* R302 - Update Purchases’s State Action _/admin/purchases_
* R303 - Delete Property Action _/admin/property_
* R304 - Add Property Action _/admin/property_
* R305 - Add Category Action _/admin/category_
* R306 - Delete Category Action _/admin/category_
* R307 - Update Category’s Properties Action _/admin/category_
* R308 - Delete FAQ Action _/admin/faq_
* R309 - Add FAQ Action _/admin/faq_
* R310 - Update Navigation Categories Action _/admin/navcategory_

#### R301 - Admin’s page

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Get Management Area page.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">UI</td>
      <td colspan="4"> <a href="https://literallysofia.github.io/lbaw1761/pages/admin.html">UI07</a></td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">AJAX Calls</td>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r302---update-purchases-state-action">R302</a>       
      </td>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r303---delete-property-action">R303</a>       
      </td>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r304---add-property-action">R304</a>       
      </td>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r305---add-category-action">R305</a>       
      </td>
    </tr>
     <tr>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r306---delete-category-action">R306</a>       
      </td>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r307---update-categorys-properties-action">R307</a>       
      </td>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r308---delete-faq-action">R308</a>       
      </td>
      <td colspan="1">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r309---add-faq-action">R309</a>       
      </td>
    </tr>
    <tr>
      <td colspan="4">
           <a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r310---update-navigation-categories-action">R310</a>       
      </td>
    </tr>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
   <tr>
      <td colspan="2">Observations</td>
      <td colspan="4">Whenever the user clicks on the product, the product page is open as in <a href="">R401</a></td>
  </tr>
</table>


#### R302 - Update Purchases’ State Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/purchases</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Update purchase’s state.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+ids: integer[]</td>
      <td colspan="2">purchases ids to be updated</td>
  </tr>
    <tr>
      <td colspan="2">+status: string[]</td>
      <td colspan="2">purchases new status</td>
  </tr>
     <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json301-get-on-hold-purchases--onholdpurchases">JSON301</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R303 - Delete Property Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/property</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Delete a certain property.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">property id</td>
  </tr>
     <tr>
      <td colspan="2" rowspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The property was successfully deleted</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No property with the specified primary key exists. </td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>


#### R304 - Add Property Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/property</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Add Property Redirects to the admin page either on success or on failure, showing a message in case of error.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+name: string</td>
      <td colspan="2">property's name</td>
  </tr>
     <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json302-get-new-property--idname">JSON302</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R305 - Add Category Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/category</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Add Category Redirects to the admin page either on success or on failure, showing a message in case of error.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+name: string</td>
      <td colspan="2">category's name</td>
  </tr>
      <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json303-get-new-category--idname">JSON303</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R306 - Delete Category Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/category</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Delete a certain category.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">category id</td>
  </tr>
     <tr>
      <td colspan="2" rowspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The category was successfully deleted</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No category with the specified primary key exists. </td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R307 - Update Category’s Properties Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/category</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Update category’s properties.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Request Body</td>
      <td colspan="2">+cat_id: integer</td>
      <td colspan="2">category id</td>
  </tr>
    <tr>
      <td colspan="2">+properties_id: integer[]</td>
      <td colspan="2">properties ids</td>
  </tr>
    <tr>
      <td colspan="2">+is_property_required: boolean[]</td>
      <td colspan="2">booleans that tells if property is required in this category or not.</td>
  </tr>
     <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The category were successfully updated.</td>
  </tr>
    <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No category with the specified primary key exists.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R308 - Delete FAQ Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/faq</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Delete a certain faq.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">faq id</td>
  </tr>
     <tr>
      <td colspan="2" rowspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The faq was successfully deleted</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No faq with the specified primary key exists. </td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>


#### R309 - Add FAQ Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/faq</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Add FAQ. Redirects to the admin page either on success or on failure, showing a message in case of error.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+question: string</td>
      <td colspan="2">FAQ's question</td>
  </tr>
    <tr>
      <td colspan="2">+answer: string</td>
      <td colspan="2">FAQ's answer</td>
  </tr>
    <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json304-get-new-faq--id-question-answer">JSON304</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R310 - Update Navigation Categories Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/navcategory</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Update which categories are on navigation menu.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" >Request Body</td>
      <td colspan="2">+id: integer[]</td>
      <td colspan="2">categories to be on navigation menu ids</td>
  </tr>
   </tr>
     <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json305-get-navigation-menu-categories--navcategories">JSON305</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

### **Module M04: Product and Reviews**

#### Endpoints

These are the endpoints available in the Product and Reviews Module.

* R401 - Product Page _/product/{id}_
* R402 - Add to Cart Action _/product/{id}_
* R403 - Add to Wishlist Action _/product/{id}_
* R404 - Add Review Action _/product/{id}_
* R405 - Edit Review Action _/product/{id}_
* R406 - Delete Review Action _/product/{id}_
* R407 - Add Product Form _/add_product_
* R408 - Add Product Action _/add_product_
* R409 - Edit Product Form _/product/{id}/edit_
* R410 - Edit Product Action _/product/{id}/edit_


#### R401: Product Page

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="5">/product/{id}/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="5">This web resource displays a single product.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="5">GET</td>
  </tr>
   <tr>
      <td colspan="2" rowspan="2">Parameters</td>
      <td colspan="3">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
    <tr>
     <td colspan="3">+page: integer</td>
      <td colspan="2">Review Page</td>
  </tr>
  <tr>
      <td colspan="2">UI</td>
      <td colspan="5"><a href="https://literallysofia.github.io/lbaw1761/pages/product.html">UI03</a></td>
  </tr>
  <tr>
      <td colspan="2">AJAX Calls</td>
      <td><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r402-add-to-cart-action">R402</a></td>
      <td><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r403-add-to-wishlist-action">R403</a></td>
      <td><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r404-add-review-action">R404</a></td>
      <td><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r405-edit-review-action">R405</a></td>
      <td><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r406-delete-review-action">R406</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="5">PUB</td>
  </tr>
</table>

#### R402: Add to Cart Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/cart</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource adds the product to the cart.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
   <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td rowspan="3" colspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The product was successfully added to the cart.</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No product with the specified primary key exists.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R403: Add to Wishlist Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/wishlist</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource adds the product to the wishlist.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
   <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td rowspan="3" colspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The product was successfully added to the wishlist.</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No product with the specified primary key exists.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R404: Add Review Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/review</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Web resource that adds a review to a product. Redirects to the product page on success or failure, showing a message in case of error.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td rowspan="5" colspan="2">Request Body</td>
      <td colspan="2">+user_id: integer</td>
      <td colspan="2">User id</td>
  </tr>
  <tr>
      <td colspan="2">+product_id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td colspan="2">+score: integer</td>
      <td colspan="2">New score</td>
  </tr>
  <tr>
      <td colspan="2">+title: string</td>
      <td colspan="2">New title</td>
  </tr>
  <tr>
      <td colspan="2">+content: string</td>
      <td colspan="2">New content</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json401-get-review--id-score-title-content">JSON401</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R405: Edit Review Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/review</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Web resource that edits a review of a product. Redirects to the product page on success or failure, showing a message in case of error.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td rowspan="4" colspan="2">Request Body</td>
      <td colspan="2">+review_id: integer</td>
      <td colspan="2">Review id</td>
  </tr>
  <tr>
      <td colspan="2">?score: integer</td>
      <td colspan="2">New score</td>
  </tr>
  <tr>
      <td colspan="2">?title: string</td>
      <td colspan="2">New title</td>
  </tr>
  <tr>
      <td colspan="2">?content: string</td>
      <td colspan="2">New content</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#json401-get-review--id-score-title-content">JSON401</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R406: Delete Review Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/review</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Web resource that deletes a review of a product. Redirects to the product page on success or failure, showing a message in case of error.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+review_id: integer</td>
      <td colspan="2">Review id</td>
  </tr>
  <tr>
      <td rowspan="3" colspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The review was successfully deleted.</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No review with the specified primary key exists.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR/ADM</td>
  </tr>
</table>

#### R407: Add Product Form

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/add_product</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource displays the add product page.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">UI</td>
      <td colspan="4"><a href="https://literallysofia.github.io/lbaw1761/pages/add_product.html">UI08</a></td>
  </tr>
    <tr>
      <td colspan="2">SUBMIT</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r408-add-product-action">R408</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R408: Add Product Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/add_product</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource creates a product. Redirects to the product page on success or the add product page on failure, showing a message in case of error. It can have multiple photos and properties associated to values.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td rowspan="6" colspan="2">Request Body</td>
      <td colspan="2">+name: string</td>
      <td colspan="2">New name</td>
  </tr>
  <tr>
      <td colspan="2">+price: double</td>
      <td colspan="2">New price</td>
  </tr>
  <tr>
      <td colspan="2">+quantity: integer</td>
      <td colspan="2">New quantity</td>
  </tr>
  <tr>
      <td colspan="2">+brand: string</td>
      <td colspan="2">New brand</td>
  </tr>
  <tr>
      <td colspan="2">+photos: string[]</td>
      <td colspan="2">New photos</td>
  </tr>
  <tr>
      <td colspan="2">+property_value: string[]</td>
      <td colspan="2">New property and value</td>
  </tr>
  <tr>
      <td rowspan="2" colspan="2">Redirects</td>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/product.html">UI03</a></td>
      <td colspan="2">Success</td>
  </tr>
    <tr>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/add_product.html">UI08</a></td>
      <td colspan="2">Error</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R409: Edit Product Form

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/edit</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource displays the edit product page.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td colspan="2">UI</td>
      <td colspan="4"><a href="https://literallysofia.github.io/lbaw1761/pages/add_product.html">UI08</a></td>
  </tr>
    <tr>
      <td colspan="2">SUBMIT</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r410-edit-product-action">R410</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

#### R410: Edit Product Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/edit</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource edits a product. Redirects to the product page on success or stays on the same page on failure, showing a message in case of error. It can have multiple photos and properties associated to values.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td rowspan="6" colspan="2">Request Body</td>
      <td colspan="2">?name: string</td>
      <td colspan="2">New name</td>
  </tr>
  <tr>
      <td colspan="2">?price: double</td>
      <td colspan="2">New price</td>
  </tr>
  <tr>
      <td colspan="2">?quantity: integer</td>
      <td colspan="2">New quantity</td>
  </tr>
  <tr>
      <td colspan="2">?brand: string</td>
      <td colspan="2">New brand</td>
  </tr>
  <tr>
      <td colspan="2">?photos: string[]</td>
      <td colspan="2">New photos</td>
  </tr>
  <tr>
      <td colspan="2">?property_value: string[]</td>
      <td colspan="2">New property and value</td>
  </tr>
  <tr>
      <td rowspan="2" colspan="2">Redirects</td>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/product.html">UI03</a></td>
      <td colspan="2">Success</td>
  </tr>
    <tr>
      <td colspan="2"><a href="https://literallysofia.github.io/lbaw1761/pages/add_product.html">UI08</a></td>
      <td colspan="2">Error</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

### **Module M05: Static Pages**

#### Endpoints

These are the endpoints available in the Static Pages Module.

* R501 - FAQ Page _/faqs_
* R502 - About Page _/about_
* R503 - Contact form _/contact_
* R504 - Contact form action _/contact_

#### R501: FAQ page

| URL         | /faqs                                                                              |
|-------------|------------------------------------------------------------------------------------|
| Description | Get FAQ page.                                                                      |
| Method      | GET                                                                                |
| UI          | [UI13](https://literallysofia.github.io/lbaw1761/pages/faq.html) |
| Permissions | PUB                                                                                |

#### R502: About Page 

| URL         | /about                                                                               |
|-------------|--------------------------------------------------------------------------------------|
| Description | Get About page.                                                                      |
| Method      | GET                                                                                  |
| UI          | [UI14](https://literallysofia.github.io/lbaw1761/pages/about.html) |
| Permissions | PUB                                                                                  |

#### R503: Contact form

| URL         | /contact                                               |
|-------------|--------------------------------------------------------|
| Description | Page with a form to make contact with the website administrators |
| Method      | GET                                                    |
| UI          | [UI12](https://literallysofia.github.io/lbaw1761/pages/contact.html)                                                     |
| SUBMIT      | R504                                                   |
| Permissions | PUB                                                    |

#### R504: Contact form action


<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/contact</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Web resource that sends a message to the website administrators. Redirects to the homepage on sucess and to the contact form page on failure.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
   <tr>
      <td colspan="2" rowspan ="4">Request Body</td>
      <td colspan="2">+name:string</td>
      <td colspan="2">Name of the sender</td>
  </tr>
  <tr>
    <td colspan="2">+email:string</td>
    <td colspan="2">Email of the sender</td>
  </tr>
  <tr>
    <td colspan="2">+subject:string</td>
    <td colspan="2">Subject of the message</td>
  </tr>
  <tr>
    <td colspan="2">+message:string</td>
    <td colspan="2">Message content</td>
  </tr>
  <tr>
    <td colspan="2" rowspan="2">Redirects</td>
    <td colspan="2"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r201-homepage-products">R201</a></td>
    <td colspan="2">Success</td>
  </tr>
   <tr>
    <td colspan="2"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r503-contact-form">R503</a></td>
    <td colspan="2">Error</td>
  </tr>

  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>


### **Module M06: Cart and Wishlist**

#### Endpoints

These are the endpoints available in the Cart and Wishlist Module.

* R601 - Cart Form _/cart_
* R602 - Cart Checkout Action _/cart_
* R603 - Cart Delete Product _/cart_
* R604 - Wishlist Page _/wishlist_
* R605 - Wishlist Add To Cart Action _/wishlist_
* R606 - Wishlist Delete Product _/wishlist_

#### R601: Cart Form

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/cart</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource displays the cart.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
   <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id:integer</td>
      <td colspan="2">User id</td>
  </tr>
   <tr>
      <td colspan="2">AJAX Calls</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r603-cart-delete-product">R603</a></td>
  </tr>
    <tr>
      <td colspan="2">UI</td>
      <td colspan="4"><a href="https://literallysofia.github.io/lbaw1761/pages/cart.html">UI06</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R602: Cart Checkout Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/cart</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource checks out the cart.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="5">Request Body</td>
      <td colspan="2">+user_id: integer</td>
      <td colspan="2">User id</td>
  </tr>
  <tr>
      <td colspan="2">+total: double</td>
      <td colspan="2">Total amount to pay</td>
  </tr>
  <tr>
      <td colspan="2">+id_address: integer</td>
      <td colspan="2">Delivery address id</td>
  </tr>
  <tr>
      <td colspan="2">+id_delivery: integer</td>
      <td colspan="2">Delivery type id</td>
  </tr>
   <tr>
      <td colspan="2">+product_quantity: string[]</td>
      <td colspan="2">Product id and its quantity</td>
  </tr>
   <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Successful checkout.</td>
  </tr>
   <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R603: Cart Delete Product

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/cart</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource deletes product from cart.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td rowspan="2" colspan="2">Request Body</td>
      <td colspan="2">+product_id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td colspan="2">+user_id: integer</td>
      <td colspan="2">User id</td>
  </tr>
   <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The product was successfully removed from the cart.</td>
  </tr>
   <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No product with the specified primary key exists in the user cart.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R604: Wishlist Page

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/wishlist</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource displays the wishlist.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
     <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id:integer</td>
      <td colspan="2">User id</td>
  </tr>
   <tr>
      <td colspan="2">AJAX Calls</td>
      <td colspan="4"><a href="https://github.com/literallysofia/lbaw1761/blob/documentation/artifacts/a7/a7.md#r605-wishlist-add-to-cart-action">R605</a></td>
  </tr>
    <tr>
      <td colspan="2">UI</td>
      <td colspan="4"><a href="https://literallysofia.github.io/lbaw1761/pages/wishlist.html">UI05</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R605: Wishlist Add to Cart Action

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/wishlist</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">This web resource adds a product in the wishlist to the cart.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
   <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+product_id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
    <tr>
      <td colspan="2">+user_id: integer</td>
      <td colspan="2">User id</td>
  </tr>
   <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The product was successfully added to the cart.</td>
  </tr>
   <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No product with the specified primary key exists.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

#### R606 - Wishlist Delete Product

<table>
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/wishlist</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Delete product of wishlist.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
    <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+product_id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
    <tr>
      <td colspan="2">+user_id: integer</td>
      <td colspan="2">User id</td>
  </tr>
 <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The product was successfully removed from the wishlist.</td>
  </tr>
   <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Error. Error message is specified via a HTTP header.</td>
  </tr>
    <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Error. No product with the specified primary key exists in the user wishlist.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">USR</td>
  </tr>
</table>

## 4. JSON/XML Types

The structure of the JSON formatted answers must be documented as illustrated below.

### JSON101: Get address : {id, name, street_address, zip_code, city_name}[]

````json
{
    "id": "1",
    "name": "name",
    "street_address": "R. Albano manuel, nr 41",
    "zip_code": "4000-278",
    "city_name": "Porto"
}
````

### JSON201: Get filtered products : {products}[]

````json
{
 "products": [
   {
     "id": "3",
     "name": "iPhone X",
     "path" :"/fotos/iphone.jpg",
     "score": "4.5",
     "price": "1024"
   },
   {
     "id": "5",
     "name": "Samsung Galaxy S9",
     "path":"/fotos/samsungS9.jpg",
     "score": "4",
     "price": "899"
   }
 ]

}
````

### JSON301: Get on hold purchases : {onHoldPurchases}[]

````json
{
 "onHoldPurchases": [
   {
     "id": "1",
     "username": "johndoe",
     "date": "18/02/17",
     "status": "shipped",
     "total": "2000",
     "address" : "R. Dr. Roberto Frias, 4200-465 Porto, Portugal"
     "products" : [
         {
            "name" : "Apple iPhone X - 256GB Silver",
            "price" : "1359,99"
         },
         {
            "name" : "Samsung Galaxy S8 - G950FZ - Midnight Black",
            "price" : "819,99"
         } 
     ]
   },
   {
     "id": "2",
     "username": "johndoe",
     "date": "18/02/17",
     "status": "shipped",
     "total": "2000",
     "address" : "R. Dr. Roberto Frias, 4200-465 Porto, Portugal"
     "products" : [
         {
            "name" : "Apple iPhone X - 256GB Silver",
            "price" : "1359,99"
         },
         {
            "name" : "Samsung Galaxy S8 - G950FZ - Midnight Black",
            "price" : "819,99"
         } 
     ]
   }
   ]

}
````

### JSON302: Get new property : {id,name}[]

````json
{
    "id": "1",
    "name": "Storage"
}
````

### JSON303: Get new category : {id,name}[]

````json
{
    "id": "1",
    "name": "Computers"
}
````

### JSON304: Get new faq : {id, question, answer}[]

````json
{
    "id": "1",
    "question": "Lorem sit amet, duo pertinax maluisset evertitur et?",
    "answer": "Id ludus bonorum eligendi vix."
}
````

### JSON305: Get navigation menu categories : {navCategories}[]

````json
{
 "navCategories": [
   {
     "id": "1",
     "name": "Computers"
   },
   {
     "id": "2",
     "name": "Tablets"
   }
 ]

}
````

### JSON401: Get review : {id, score, title, content}[]

````json
{
    "id": "1",
    "score": "4",
    "title": "Ludus bonorum",
    "content": "Lorem sit amet, duo pertinax maluisset evertitur et."
}
````
***
## Revision history
 
Changes made to the first submission:  
1. Modal box's actions were changed to be made with AJAX calls.
2. The URLs for the resources on the same page with the same method are now different.
3. The unnecessary forms were removed.
4. Delete actions don't return "400 Bad Request" anymore.
5. Pages number in the URL of resources with pagination

***

GROUP1761, 10/04/2018
 
* Bárbara Sofia Lopez de Carvalho Ferreira da Silva, up201505628@fe.up.pt
* Carlos Miguel da Silva de Freitas, up201504749@fe.up.pt
* Julieta Pintado Jorge Frade, up201506530@fe.up.pt
* Luís Noites Martins, up201503344@fe.up.pt
